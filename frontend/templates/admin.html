{% extends "base.html" %}

{% block content %}
  <div class="container mx-auto max-w-4xl px-6 py-6">
    <h2 class="text-3xl font-semibold text-center text-gray-800 mb-6">Admin Dashboard</h2>

    <!-- Task Assignment Section -->
    <div class="bg-white p-6 rounded-lg shadow-lg">
      <h3 class="text-xl font-medium text-gray-700 mb-4">Assign a Task</h3>
      <form method="POST" class="space-y-4">
        <div>
          <label for="user_id" class="block text-gray-600">Assign to User</label>
          <select name="user_id" id="user_id" class="w-full p-3 border border-gray-300 rounded-md">
            {% for user in users %}
              <option value="{{ user.id }}">{{ user.username }}</option>
            {% endfor %}
          </select>
        </div>

        <div>
          <label for="task_description" class="block text-gray-600">Task Description</label>
          <input type="text" name="task_description" id="task_description" required class="w-full p-3 border border-gray-300 rounded-md" placeholder="Enter task description">
        </div>

        <div class="text-right">
          <button type="submit" class="px-6 py-2 bg-blue-600 text-white font-semibold rounded-md hover:bg-blue-700 focus:outline-none">Assign Task</button>
        </div>
      </form>
    </div>

    <!-- Assigned Tasks Section -->
    <div class="bg-white p-6 mt-8 rounded-lg shadow-lg">
      <h3 class="text-xl font-medium text-gray-700 mb-4">All Assigned Tasks</h3>
      <ul class="space-y-4">
        {% for task in tasks %}
          <li class="flex justify-between items-center p-4 border-b border-gray-200">
            <span class="text-gray-600">{{ task.description }} - Assigned to <strong class="text-blue-600">{{ task.user.username }}</strong></span>
          </li>
        {% endfor %}
      </ul>
    </div>
  </div>
{% endblock %}
